{"version":3,"sources":["webpack:///webpack/bootstrap 07e4e0363f984e20c485","webpack:///./lib/2048.js","webpack:///./lib/board.js","webpack:///./lib/tile.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;;;;;ACnEA;;AAEA;AACA,4DAA2D,mDAAmD;AAC9G;;;AAGA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,oBAAmB,yBAAyB;AAC5C,yBAAwB,iCAAiC;AACzD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,yBAAyB;AAC5C,yBAAwB,iCAAiC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,oBAAmB,yBAAyB;AAC5C,yBAAwB,iCAAiC;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,2BAA2B;AAC5C;AACA;AACA;;AAEA,uDAAsD,6BAA6B,+CAA+C,GAAG;;AAErI;AACA;;AAEA,kBAAiB,0BAA0B;AAC3C;AACA;AACA;;AAEA,qDAAoD,6BAA6B,+CAA+C,GAAG;;AAEnI;AACA;AACA;;AAEA,kBAAiB,wBAAwB;AACzC;AACA;AACA;;AAEA;;AAEA,gDAA+C,6BAA6B,+CAA+C,GAAG;;AAE9H;AACA;AACA;;AAEA,kBAAiB,0BAA0B;AAC3C;AACA;AACA;;AAEA;;AAEA,qDAAoD,6BAA6B,+CAA+C,GAAG;;AAEnI;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,+BAA8B,QAAQ;AACtC;AACA;AACA;AACA,wBAAuB,gBAAgB;AACvC;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC9TA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 07e4e0363f984e20c485\n **/","const Board = require(\"./board.js\");\n\nlet a = new Board();\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  a.addSquare();\n  a.addSquare();\n  a.drawSquares();\n});\n\ndocument.onkeydown = checkKey;\n\nfunction checkKey(e) {\n\n    e = e || window.event;\n\n    if (a.lost() === true) {\n      console.log(\"you lost\");\n    }\n\n    if (e.keyCode == '38') {\n        // up arrow\n\n        a.moveUpRow();\n        a.drawSquares();\n        if (a.emptyBoard() === false) {\n          a.addSquare();\n        }\n\n\n\n    }\n    else if (e.keyCode == '40') {\n        // down arrow\n\n        a.moveDownRow();\n        a.drawSquares();\n        if (a.emptyBoard() === false) {\n          a.addSquare();\n        }\n        a.drawSquares();\n\n\n    }\n    else if (e.keyCode == '37') {\n       // left arrow\n       a.moveLeftRow();\n       a.drawSquares();\n       if (a.emptyBoard() === false) {\n         a.addSquare();\n       }\n       a.drawSquares();\n\n\n    }\n    else if (e.keyCode == '39') {\n       a.moveRightRow();\n       a.drawSquares();\n       if (a.emptyBoard() === false) {\n         a.addSquare();\n       }\n       a.drawSquares();\n\n\n    }\n\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/2048.js\n ** module id = 0\n ** module chunks = 0\n **/","const Tile = require(\"./tile.js\");\n\nconst Board = function() {\n  this.board = Array.apply(null, Array(4)).map(function() { return [undefined,undefined,undefined,undefined] });\n};\n\n\nBoard.prototype.moveRightRow = function() {\n  for (let i = 0; i < this.board.length; i++) {\n    moveOneRow(this.board[i]);\n    addNumbersRow(this.board[i]);\n  }\n}\n\nBoard.prototype.moveLeftRow = function() {\n  for (let i = 0; i < this.board.length; i++) {\n    moveOneRowLeft(this.board[i]);\n    addNumbersRowLeft(this.board[i]);\n  }\n}\n\nBoard.prototype.moveDownRow = function() {\n\n  this.board = invertBoard(this.board);\n  this.moveRightRow();\n  this.board = invertBoard(this.board);\n\n}\n\nBoard.prototype.moveUpRow = function() {\n\n  this.board = invertBoard(this.board);\n  this.moveLeftRow();\n  this.board = invertBoard(this.board);\n\n}\n\nBoard.prototype.drawSquares = function(){\n  for (let row = 0; row < this.board.length; row++) {\n    for (let column = 0; column < this.board[row].length; column++) {\n      let squarenum = (row * 4) + column;\n      let square = \"square\" + squarenum;\n\n      if (this.board[row][column] !== undefined && this.board[row][column].merged === true) {\n        let show = this.board[row][column] === undefined ? \"\" : this.board[row][column].value\n        draw(show, square);\n        // animation(show, square);\n        // this.board[row][column].merged === false;\n        // animationback(show, square);\n      }\n      else {\n        let show = this.board[row][column] === undefined ? \"\" : this.board[row][column].value\n        draw(show, square);\n      }\n    }\n  }\n}\n\nBoard.prototype.addSquare = function(){\n  let empty_positions = [];\n  for (let row = 0; row < this.board.length; row++) {\n    for (let column = 0; column < this.board[row].length; column++) {\n      if (this.board[row][column] === undefined) {\n        empty_positions.push([row, column]);\n      }\n    }\n  }\n  let rand = empty_positions[Math.floor(Math.random() * empty_positions.length)];\n  let new_val = [2,4][Math.floor(Math.random() * 2)];\n\n  this.board[rand[0]][rand[1]] = new Tile(new_val);\n\n}\n\nBoard.prototype.emptyBoard = function(){\n  let empty_positions = [];\n  for (let row = 0; row < this.board.length; row++) {\n    for (let column = 0; column < this.board[row].length; column++) {\n      if (this.board[row][column] === undefined) {\n        empty_positions.push([row, column]);\n      }\n    }\n  }\n\n  return empty_positions.length === 0;\n}\n\nBoard.prototype.lost = function(){\n  //swipe to right\n  let boardcopyright = this.board;\n\n  for (let i = 0; i < boardcopyright.length; i++) {\n    moveOneRow(boardcopyright[i]);\n    addNumbersRow(boardcopyright[i]);\n  }\n\n  boardcopyright =  boardcopyright.map(function(row) {return row.map(function(el) {return el === undefined ? undefined : el.value} )})\n\n  //swipe to left\n  let boardcopyleft = this.board;\n\n  for (let i = 0; i < boardcopyleft.length; i++) {\n    moveOneRowLeft(boardcopyleft[i]);\n    addNumbersRowLeft(boardcopyleft[i]);\n  }\n\n  boardcopyleft =  boardcopyleft.map(function(row) {return row.map(function(el) {return el === undefined ? undefined : el.value} )})\n\n  //swipe up\n  let boardcopyup = this.board;\n  boardcopyup = invertBoard(boardcopyup);\n\n  for (let i = 0; i < boardcopyup.length; i++) {\n    moveOneRowLeft(boardcopyup[i]);\n    addNumbersRowLeft(boardcopyup[i]);\n  }\n\n  boardcopyup = invertBoard(boardcopyup);\n\n  boardcopyup = boardcopyup.map(function(row) {return row.map(function(el) {return el === undefined ? undefined : el.value} )})\n\n  //swipe down\n  let boardcopydown = this.board;\n  boardcopydown = invertBoard(boardcopydown);\n\n  for (let i = 0; i < boardcopydown.length; i++) {\n    moveOneRow(boardcopydown[i]);\n    addNumbersRow(boardcopydown[i]);\n  }\n\n  boardcopydown = invertBoard(boardcopydown);\n\n  boardcopydown =  boardcopydown.map(function(row) {return row.map(function(el) {return el === undefined ? undefined : el.value} )})\n\n  return (array_compare(boardcopyup, boardcopydown) === true &&\n          array_compare(boardcopyup, boardcopyleft) === true &&\n          array_compare(boardcopyup, boardcopyright) === true);\n\n}\n\nfunction array_compare(a1, a2) {\n if(a1.length != a2.length) {\n  return false;\n }\n for(var i in a1) {\n  // Don't forget to check for arrays in our arrays.\n  if(a1[i] instanceof Array && a2[i] instanceof Array) {\n   if(!array_compare(a1[i], a2[i])) {\n    return false;\n   }\n  }\n  else if(a1[i] != a2[i]) {\n   return false;\n  }\n }\n return true;\n}\n\n\nfunction invertBoard(arr){\n  return arr[0].map(function(col, i) {\n    return arr.map(function(row) {\n      return row[i];\n    })\n  });\n}\n// start from block to the right\nfunction moveOneRow(arr) {\n  for (let i = arr.length - 2; i >= 0; i--) {\n    let altered = false;\n    // if starting block is null or next block has value, look at next block\n    // if next block is null, \"shift\" block 1 spot.  if shifted before, reset previous block.\n    for (let j = i + 1; j < arr.length; j++) {\n      if (arr[j] !== undefined || arr[i] === undefined) {\n        break;\n      } else {\n        if (altered === true){\n          arr[j-1] = undefined;\n        }\n        arr[j] = arr[i];\n        altered = true;\n      }\n    }\n    // if altered, set starting block to null\n    if (altered === true){\n      arr[i] = undefined;\n    }\n  }\n}\n\nfunction addNumbersRow(arr) {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    if (arr[i] !== undefined && arr[i-1] !== undefined && arr[i].value === arr[i-1].value) {\n      arr[i].value = arr[i].value * 2;\n      arr[i].merged = true;\n      let shiftval = i - 1;\n      while (shiftval >= 0) {\n        arr[shiftval] = arr[shiftval - 1];\n        shiftval--;\n      }\n    }\n  }\n}\n\nfunction moveOneRowLeft(arr) {\n  for (let i = 1; i < arr.length; i++) {\n    let altered = false;\n    // if starting block is null or next block has value, look at next block\n    // if next block is null, \"shift\" block 1 spot.  if shifted before, reset previous block.\n    for (let j = i - 1; j >= 0; j--) {\n      if (arr[j] !== undefined || arr[i] === undefined) {\n        break;\n      } else {\n        if (altered === true){\n          arr[j + 1] = undefined;\n        }\n        arr[j] = arr[i];\n        altered = true;\n      }\n    }\n    // if altered, set starting block to null\n    if (altered === true){\n      arr[i] = undefined;\n    }\n  }\n}\n\nfunction addNumbersRowLeft(arr) {\n  for (let i = 0; i <= arr.length - 1; i++) {\n    if (arr[i] !== undefined && arr[i+1] !== undefined && arr[i].value === arr[i+1].value) {\n      arr[i].value = arr[i+1].value * 2;\n      arr[i].merged = true;\n      let shiftval = i + 1;\n      while (shiftval < arr.length) {\n        arr[shiftval] = arr[shiftval + 1];\n        shiftval++;\n      }\n    }\n  }\n}\n//\n// function preShake(square) {\n//   var ctx = document.getElementById(square).getContext(\"2d\");\n//   ctx.save();\n//   var dx = Math.random()*10;\n//   var dy = Math.random()*10;\n//   ctx.translate(dx, dy);\n// }\n//\n// function postShake(square) {\n//   var ctx = document.getElementById(square).getContext(\"2d\");\n//   ctx.restore();\n// }\n//\n// function animate() {\n//   var ctx = document.getElementById(\"square0\").getContext(\"2d\");\n//   // keep animation alive\n//   requestAnimationFrame(animate);\n//   // erase\n//   ctx.clearRect(0,0,document.getElementById(\"square0\").width, document.getElementById(\"square0\").height);\n//   //\n//   preShake(\"square0\");\n//   //\n//   draw(\"5\", \"square0\");\n//   //\n//   postShake(\"square0\");\n// }\n\n\n\nfunction draw(val, square) {\n  var ctx = document.getElementById(square)\n  ctx.width = 107;\n  ctx.height= 107;\n  var con = ctx.getContext(\"2d\");\n\n  con.fillStyle = \"#F5F5DC\";\n  con.fillRect(0,0, 200, 200);\n  // draw font in red\n  con.fillStyle = \"red\";\n  con.font = \"55pt Clear Sans\";\n  con.textAlign = \"center\"\n  con.fillText(val, 50, 70);\n\n}\n\n\nfunction animation(val, square) {\n  var ctx = document.getElementById(square)\n  ctx.width = 150;\n  ctx.height= 150;\n  var con = ctx.getContext(\"2d\");\n\n  con.fillStyle = \"#F5F5DC\";\n  con.fillRect(0,0, 200, 200);\n  // draw font in red\n  con.fillStyle = \"red\";\n  con.font = \"55pt Clear Sans\";\n  con.textAlign = \"center\"\n  con.fillText(val, 50, 70);\n\n}\n\nfunction animationback(val, square) {\n  var ctx = document.getElementById(square)\n  ctx.width = 107;\n  ctx.height= 107;\n  var con = ctx.getContext(\"2d\");\n\n  con.fillStyle = \"#F5F5DC\";\n  con.fillRect(0,0, 200, 200);\n  // draw font in red\n  con.fillStyle = \"red\";\n  con.font = \"55pt Clear Sans\";\n  con.textAlign = \"center\"\n  con.fillText(val, 50, 70);\n\n}\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/board.js\n ** module id = 1\n ** module chunks = 0\n **/","const Tile = function(value) {\n  this.value = value;\n  this.merged = false;\n};\n\nmodule.exports = Tile;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/tile.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}